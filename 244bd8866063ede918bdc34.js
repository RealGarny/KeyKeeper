"use strict";(self.webpackChunkpasswordservicetest=self.webpackChunkpasswordservicetest||[]).push([[244],{244:(e,t,r)=>{r.r(t),r.d(t,{default:()=>me});var n=r(848),a=r(540),o=(0,a.createContext)(null),s=function(){var e=(0,a.useContext)(o);if(!e)throw new Error("Password Service context is being called outside the provider.");return e},i=r(857),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},u=a.forwardRef((function(e,t){var r=e.className,a=c(e,["className"]);return(0,n.jsx)("div",l({ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r)},a))}));u.displayName="Card",a.forwardRef((function(e,t){var r=e.className,a=c(e,["className"]);return(0,n.jsx)("div",l({ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r)},a))})).displayName="CardHeader";var f=a.forwardRef((function(e,t){var r=e.className,a=c(e,["className"]);return(0,n.jsx)("div",l({ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r)},a))}));f.displayName="CardTitle",a.forwardRef((function(e,t){var r=e.className,a=c(e,["className"]);return(0,n.jsx)("div",l({ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r)},a))})).displayName="CardDescription",a.forwardRef((function(e,t){var r=e.className,a=c(e,["className"]);return(0,n.jsx)("div",l({ref:t,className:(0,i.cn)("p-6 pt-0",r)},a))})).displayName="CardContent",a.forwardRef((function(e,t){var r=e.className,a=c(e,["className"]);return(0,n.jsx)("div",l({ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r)},a))})).displayName="CardFooter";var d=r(827),p=r(224),h=r(367),v=function(){return v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v.apply(this,arguments)},b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},m=p.bL,y=p.l9,x=p.ZL,g=a.forwardRef((function(e,t){var r=e.className,a=b(e,["className"]);return(0,n.jsx)(p.hJ,v({className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},a,{ref:t}))}));g.displayName=p.hJ.displayName;var w=a.forwardRef((function(e,t){var r=e.className,a=b(e,["className"]);return(0,n.jsxs)(x,{children:[(0,n.jsx)(g,{}),(0,n.jsx)(p.UC,v({ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r)},a))]})}));w.displayName=p.UC.displayName;var j=function(e){var t=e.className,r=b(e,["className"]);return(0,n.jsx)("div",v({className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t)},r))};j.displayName="AlertDialogHeader";var O=function(e){var t=e.className,r=b(e,["className"]);return(0,n.jsx)("div",v({className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},r))};O.displayName="AlertDialogFooter";var N=a.forwardRef((function(e,t){var r=e.className,a=b(e,["className"]);return(0,n.jsx)(p.hE,v({ref:t,className:(0,i.cn)("text-lg font-semibold",r)},a))}));N.displayName=p.hE.displayName;var S=a.forwardRef((function(e,t){var r=e.className,a=b(e,["className"]);return(0,n.jsx)(p.VY,v({ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r)},a))}));S.displayName=p.VY.displayName;var P=a.forwardRef((function(e,t){var r=e.className,a=b(e,["className"]);return(0,n.jsx)(p.rc,v({ref:t,className:(0,i.cn)((0,h.r)(),r)},a))}));P.displayName=p.rc.displayName;var C=a.forwardRef((function(e,t){var r=e.className,a=b(e,["className"]);return(0,n.jsx)(p.ZD,v({ref:t,className:(0,i.cn)((0,h.r)({variant:"outline"}),"mt-2 sm:mt-0",r)},a))}));C.displayName=p.ZD.displayName;var k=function(){return k=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k.apply(this,arguments)},I=(d.Kq,d.bL),E=d.l9,L=a.forwardRef((function(e,t){var r=e.className,a=e.sideOffset,o=void 0===a?4:a,s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["className","sideOffset"]);return(0,n.jsx)(d.UC,k({ref:t,sideOffset:o,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r)},s))}));L.displayName=d.UC.displayName;var R=r(968),T=r(892),A=r(779),D=r(839),z=function(e){var t=e.onCopy,r=e.onDelete,a=e.onEditOpen,o=e.isEdit;return(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)(I,{children:[(0,n.jsx)(E,{asChild:!0,children:(0,n.jsx)(h.$,{variant:"ghost",onClick:a,children:o?(0,n.jsx)(R.A,{}):(0,n.jsx)(T.A,{})})}),(0,n.jsx)(L,{children:o?"Отменить редактирование":"Редактировать"})]}),(0,n.jsxs)(I,{children:[(0,n.jsx)(E,{asChild:!0,children:(0,n.jsx)(h.$,{variant:"ghost",onClick:t,children:(0,n.jsx)(A.A,{})})}),(0,n.jsx)(L,{children:"скопировать"})]}),(0,n.jsxs)(m,{children:[(0,n.jsx)(y,{asChild:!0,children:(0,n.jsx)(h.$,{variant:"ghost",children:(0,n.jsx)(D.A,{})})}),(0,n.jsxs)(w,{children:[(0,n.jsxs)(j,{children:[(0,n.jsx)(N,{children:"Удаление пароля"}),(0,n.jsx)(S,{children:"Это действие невозможно отменить. Это приведет к безвозвратному удалению вашего пароля."})]}),(0,n.jsxs)(O,{children:[(0,n.jsx)(C,{children:"Отменить"}),(0,n.jsx)(P,{onClick:r,children:"Подтвердить"})]})]})]})]})},B=function(){return B=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},B.apply(this,arguments)},J=a.forwardRef((function(e,t){var r=e.className,a=e.type,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["className","type"]);return(0,n.jsx)("input",B({type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t},o))}));J.displayName="Input";var U=function(){return U=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},U.apply(this,arguments)},V=function(e){var t=e.onSubmit,r=e.onChange,o=e.submitButtonText,s=e.values,i=e.children,l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["onSubmit","onChange","submitButtonText","values","children"]),c=(0,a.useState)(!1),u=c[0],f=c[1],d=function(e){var t;r&&r(((t={})[e.target.name]=e.target.value,t))};return(0,n.jsxs)("form",U({className:"flex flex-col gap-2",onSubmit:function(e){return r=void 0,n=void 0,o=function(){return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(r){return e.preventDefault(),t&&t(s,{setIsLoading:f}),[2]}))},new((a=void 0)||(a=Promise))((function(e,t){function s(e){try{l(o.next(e))}catch(e){t(e)}}function i(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(s,i)}l((o=o.apply(r,n||[])).next())}));var r,n,a,o}},l,{children:[(0,n.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,n.jsx)(J,{name:"service",value:s.service,placeholder:"Сервис",onChange:d}),(0,n.jsx)(J,{name:"password",value:s.password,placeholder:"Пароль",onChange:d}),(0,n.jsx)(h.$,{type:"submit",className:"ml-10",disabled:""===s.password||""===s.service||!0===u,isLoading:u,children:o||"создать новый пароль"})]}),i]}))},G=function(e){if(!e.characterCount)return"";var t="string"==typeof e.characterCount?parseInt(e.characterCount,10):e.characterCount,r="";if(e.userCharacters?r=e.userCharacters:(e.hasNumbers&&(r+="0123456789"),e.hasSymbols&&(r+="!@#$%^&*()_+-=[]{}|;:'\",.<>?/"),e.hasUppercase&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),e.hasLowercase&&(r+="abcdefghijklmnopqrstuvwxyz")),0===r.length)throw new Error("No character types selected. Enable at least one character type.");for(var n="",a=0;a<t;a++)n+=r[Math.floor(Math.random()*r.length)];return n},M=r(731),Z=r(773),$=function(){return $=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$.apply(this,arguments)},F=a.forwardRef((function(e,t){var r=e.className,a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["className"]);return(0,n.jsx)(M.bL,$({ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r)},a,{children:(0,n.jsx)(M.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,n.jsx)(Z.A,{className:"h-4 w-4"})})}))}));F.displayName=M.bL.displayName;var H=function(){return H=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},H.apply(this,arguments)},Y=function(e){var t=e.children,r=e.label,a=e.className,o=e.disabled,s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["children","label","className","disabled"]);return(0,n.jsxs)("div",H({className:(0,i.cn)("flex gap-2 flex-1 items-center",a)},s,{children:[r&&"before"===r.position&&(0,n.jsx)("p",{className:Boolean(o)?"opacity-50":"",children:r.text}),t,r&&"after"===r.position&&(0,n.jsx)("p",{className:Boolean(o)?"opacity-50":"",children:r.text})]}))},q=r(920),K=function(){return K=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},K.apply(this,arguments)},Q=a.forwardRef((function(e,t){var r=e.className,a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["className"]);return(0,n.jsxs)(q.bL,K({ref:t,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",r)},a,{children:[(0,n.jsx)(q.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,n.jsx)(q.Q6,{className:"absolute h-full bg-primary"})}),(0,n.jsx)(q.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}))}));Q.displayName=q.bL.displayName;var W=function(e){var t=e.schema,r=e.values,a=e.onChange,o=e.className;return Object.keys(t).map((function(e){var s=t[e];return(0,n.jsx)(Y,{label:t[e].label,disabled:r&&r[e]?r[e].disabled:void 0,className:o,children:(0,n.jsx)(X,{inputValue:r?r[e]:void 0,inputName:e,input:s,onChange:a})},e)}))},X=function(e){var t=e.onChange,r=e.inputValue,a=e.input,o=e.inputName;switch(a.inputInfo.type){case"checkbox":var s=r&&r.value||!1,i=r&&r.disabled||!1;return(0,n.jsx)(F,{onCheckedChange:function(e){var r;return t&&t(((r={})[o]=e,r))},name:o,disabled:i,checked:s});case"slider":var l=r&&r.value||0;return(0,n.jsx)(Q,{name:o,onChange:function(e){var r;return t&&t(((r={})[o]=e.target.value,r))},min:a.inputInfo.min||0,value:l});default:return(0,n.jsx)(n.Fragment,{})}},_=function(){return _=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_.apply(this,arguments)},ee=function(e){var t=e.onChange,r=e.value,o=e.label,s=e.max,i=e.min,l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["onChange","value","label","max","min"]),c=(0,a.useState)(0),u=c[0],f=c[1],d=(0,a.useState)(""),p=d[0],h=d[1];return(0,a.useEffect)((function(){r&&(f(r),h(r.toString()))}),[r]),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("div",{className:"max-w-72 flex-1",children:[(0,n.jsx)("p",{className:"mb-2",children:null!=o?o:"Кол-во символов"}),(0,n.jsx)(Q,_({name:"slider",onValueChange:function(e){var r=e[0];h(r.toString()),f(r),t&&t(r)},min:i,max:s,value:[u]},l))]}),(0,n.jsx)(J,{name:"input",className:"max-w-20",type:"number",onChange:function(e){var r=parseInt(e.target.value)||0;s&&r>s||(f(r),h(e.target.value),t&&t(r))},value:p})]})},te=function(){return te=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},te.apply(this,arguments)},re={hasSymbols:{label:{text:"Символы",position:"after"},inputInfo:{type:"checkbox"}},hasNumbers:{label:{text:"Цифры",position:"after"},inputInfo:{type:"checkbox"}},hasUppercase:{label:{text:"Верхний регистр",position:"after"},inputInfo:{type:"checkbox"}},hasLowercase:{label:{text:"Нижний регистр",position:"after"},inputInfo:{type:"checkbox"}}},ne=function(e){var t=e.onChange,r=e.password,o=(0,a.useState)([]),s=o[0],i=o[1],l=(0,a.useState)(!1),c=l[0],u=l[1],f=(0,a.useState)(!1),d=f[0],p=f[1],h=(0,a.useState)(0),v=h[0],b=h[1],m=(0,a.useState)(""),y=m[0],x=m[1];return(0,a.useEffect)((function(){if(r){var e=function(e){var t=[];return/[a-z]/.test(e)&&t.push("hasLowercase"),/[.,;\[\]]/.test(e)&&t.push("hasSymbols"),/\d/.test(e)&&t.push("hasNumbers"),/[A-Z]/.test(e)&&t.push("hasUppercase"),t}(r);i(e),b(r.length)}}),[]),(0,a.useEffect)((function(){if(d&&t){var e={characterCount:v};c&&y.length>0?e=te(te({},e),{userCharacters:y}):s.length>0&&(e=te(te({},e),s.reduce((function(e,t){var r;return te(te({},e),((r={})[t]=!0,r))}),{}))),Object.keys(e).length>1&&t({password:G(e)})}}),[v,s,y]),(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)(ee,{onChange:function(e){b(e),p(!0)},max:30,value:v}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)(F,{checked:c,onCheckedChange:function(){return u((function(e){return!e}))}}),(0,n.jsx)("p",{children:"свой набор"})]}),c&&(0,n.jsx)(J,{onChange:function(e){return x(e.target.value)},value:y})]}),(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsx)(W,{onChange:function(e){i((function(t){for(var r=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([],t,!0),n=function(e,t){t?r.push(e):r=r.filter((function(t){return e!==t}))},a=0,o=Object.entries(e);a<o.length;a++){var s=o[a];n(s[0],s[1])}return r.length<1?t:r})),p(!0)},schema:re,values:Object.keys(re).reduce((function(e,t){var r;return te(te({},e),((r={})[t]={value:s.includes(t),disabled:c},r))}),{}),className:"justify-center"})})]})},ae=function(){return ae=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ae.apply(this,arguments)},oe=function(e){var t=e.initialValues,r=e.onSubmit,o=e.submitButtonText,s=(0,a.useState)(t||{password:"",service:""}),i=s[0],l=s[1],c=function(e){l((function(t){return t?ae(ae({},t),e):e}))};return(0,n.jsx)(V,{onSubmit:r,onChange:c,values:i,submitButtonText:o,children:(0,n.jsx)(ne,{onChange:c,password:i?i.password:void 0})})},se=function(e){var t=e.password,r=e.onDelete,o=e.onEditClose,s=e.onEditOpen,i=e.onEditSave,l=(0,a.useState)(!1),c=l[0],p=l[1];return(0,n.jsx)(u,{className:"flex flex-col gap-4 p-6",children:(0,n.jsxs)(d.Bc,{children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between w-full",children:[(0,n.jsxs)(f,{children:[t.id,". ",t.service]}),(0,n.jsx)(z,{isEdit:c,onCopy:function(){navigator.clipboard.writeText(t.password)},onDelete:function(){r&&r(t.id)},onEditOpen:function(){p((function(e){return e?o&&o(t):s&&s(t),!e}))}})]}),c&&(0,n.jsx)(oe,{onSubmit:function(e,t){i&&i(e,t)},initialValues:t,submitButtonText:"Применить"})]})})},ie=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))},le=function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},ce=function(){var e=s(),t=e.changePassword,r=e.deletePassword,a=e.passwords,o=function(e,r){return ie(void 0,[e,r],void 0,(function(e,r){var n=r.setIsLoading;return le(this,(function(r){switch(r.label){case 0:return e.id?(n(!0),[4,t(e.id,e)]):[2];case 1:return r.sent(),n(!1),[2]}}))}))},i=function(e){return ie(void 0,void 0,void 0,(function(){return le(this,(function(t){return r(e),[2]}))}))};return a.map((function(e){return(0,n.jsx)(se,{onEditSave:o,onDelete:i,password:e},e.id)}))},ue=r(19),fe=function(){return fe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},fe.apply(this,arguments)},de=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))},pe=function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},he=function(e){var t=e.children,r=(0,a.useState)([]),s=r[0],i=r[1],l=(0,a.useState)([]),c=l[0],u=l[1],f=function(){return e=void 0,t=void 0,n=function(){return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(e){return[2,new Promise((function(e,t){setTimeout((function(){Math.random()>.5&&e(!0),t({data:{message:"Сервис временно недоступен"}})}),2e3)}))]}))},new((r=void 0)||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}));var e,t,r,n},d=(0,ue.dj)().toast,p=function(e,t){var r={title:e.title};return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return de(void 0,void 0,void 0,(function(){var n,a,o;return pe(this,(function(s){switch(s.label){case 0:n={message:""},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t.apply(void 0,e)];case 2:return a=s.sent(),r.description=a.message,n=a,[3,4];case 3:return o=s.sent(),console.log("error"),r.variant="destructive",r.description=o.message,n=o,[3,4];case 4:return d(r),[2,n]}}))}))}},h=p({title:"Создание пароля"},(function(e){return de(void 0,void 0,void 0,(function(){return pe(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,f()];case 1:return t.sent(),u((function(t){var r=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([fe(fe({},e),{id:t[0]?t[0].id+1:1})],t,!0);return localStorage.setItem("ServPwds",JSON.stringify(r)),r})),[2,{message:"Пароль успешно создан!"}];case 2:throw t.sent(),{message:"Непредвиденная ошибка"};case 3:return[2]}}))}))})),v=p({title:"Редактирование пароля"},(function(e,t){return de(void 0,void 0,void 0,(function(){var r;return pe(this,(function(n){switch(n.label){case 0:if(-1===(r=c.findIndex((function(t){return t.id===e}))))return[2,{message:"Элемент не был найден"}];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,f()];case 2:return n.sent(),u((function(e){return e[r]=fe(fe({},e[r]),t),localStorage.setItem("ServPwds",JSON.stringify(e)),e})),[2,{message:"done"}];case 3:throw n.sent(),{message:"Произошла ошибка. попробуйте позже."};case 4:return[2]}}))}))})),b=p({title:"Удаление пароля"},(function(e){return de(void 0,void 0,void 0,(function(){return pe(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,f()];case 1:return t.sent(),u((function(t){var r=t.filter((function(t){return t.id===e}));return localStorage.setItem("ServPwds",JSON.stringify(r)),r})),[2,{message:"Пароль успешно удален!"}];case 2:throw t.sent(),{message:"Непредвиденная ошибка"};case 3:return[2]}}))}))}));(0,a.useEffect)((function(){var e=localStorage.getItem("ServPwds");e&&(u(JSON.parse(e)),i(JSON.parse(e)))}),[]);var m={initialPasswords:s,resetPasswordsList:function(){u(s)},changePasswordsList:function(e){u(e)},changePassword:v,createPassword:h,deletePassword:b,passwords:c};return(0,n.jsx)(o.Provider,{value:m,children:t})},ve=function(){var e=s().createPassword;return(0,n.jsx)("div",{className:"flex flex-col gap-4 p-6",children:(0,n.jsx)(oe,{onSubmit:function(t,r){return n=void 0,a=[t,r],s=function(t,r){var n=r.setIsLoading;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(r){switch(r.label){case 0:return n(!0),[4,e(t)];case 1:return r.sent(),n(!1),[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function i(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(r,i)}l((s=s.apply(n,a||[])).next())}));var n,a,o,s}})})},be=function(){var e=(0,a.useState)(""),t=e[0],r=e[1],o=(0,a.useRef)(!1),i=s(),l=i.changePasswordsList,c=i.resetPasswordsList,u=i.initialPasswords;return(0,a.useEffect)((function(){if(o.current){if(t.length<1)return console.log("reset"),void c();var e=setTimeout((function(){var e,r,n,a,o;l((r="service",n=t,a=6,o=(e=u).map((function(e){return function(e,t){for(var r=[],n=0;n<=t.length;n++)r[n]=[n];for(var a=0;a<=e.length;a++)r[0][a]=a;for(n=1;n<=t.length;n++)for(a=1;a<=e.length;a++)t[n-1]===e[a-1]?r[n][a]=r[n-1][a-1]:r[n][a]=Math.min(r[n-1][a-1]+1,r[n][a-1]+1,r[n-1][a]+1);return r[t.length][e.length]}(e[r].toLowerCase(),n.toLowerCase())})),e.sort((function(t,r){return o[e.indexOf(t)]-o[e.indexOf(r)]})),a?e.filter((function(t){return o[e.indexOf(t)]<a})):e))}),500);return function(){return clearTimeout(e)}}o.current=!0}),[t]),(0,n.jsx)(J,{placeholder:"поиск",value:t,onChange:function(e){return r(e.target.value)}})};const me=function(e){return e.className,(0,n.jsxs)("div",{className:"px-3 max-w-5xl flex gap-5 flex-col mx-auto",children:[(0,n.jsx)("p",{className:"text-4xl",children:"Сервисы-пароли"}),(0,n.jsx)("div",{className:"flex flex-col gap-3",children:(0,n.jsxs)(he,{children:[(0,n.jsx)(ve,{}),(0,n.jsx)(be,{}),(0,n.jsx)(ce,{})]})})]})}}}]);